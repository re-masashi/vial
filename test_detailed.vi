// Test effect generics with more detailed type checking
effect State<T> {
    get() -> T,
    put(T) -> ()
}

def test_state() -> int effects State<int> {
    let current = perform get();
    perform put(current + 1);
    current
}

def pub main() -> int {
    test_state()
}